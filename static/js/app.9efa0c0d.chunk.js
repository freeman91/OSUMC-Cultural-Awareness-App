(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{154:function(e){e.exports=JSON.parse('{"a":"https://www.osumc-cultural-awareness.com/api/v1"}')},373:function(e,t,n){e.exports=n(522)},522:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n.n(r),s=n(0),o=n.n(s),c=(n(91),n(532)),i=n(51),u=n(60),l=n(310),m=n(57),p=n(309),f=n(304),d=n(125),h=n(529),v=n(530),b=n(15),g=n.n(b),w=n(4),y=n(28),E=n(528),x=n(123),O=n(33),j=n(184),P=n(302),k=n(11),S=n.n(k),I=n(14),C=n(132),R=n(311),T=n(2),D=T.a.create({spinner:{top:"50%",position:"relative"},specialAddInsight:{padding:10,marginVertical:5,marginHorizontal:5},card:{padding:10,marginVertical:5,marginHorizontal:5},fab:{}});function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=Object(C.a)(),n=Object(c.c)(),r=z(z({},D.fab),{},{position:"web"===I.a.OS?"fixed":"relative"});return"web"!==I.a.OS&&(r.top=t.height-n.bottom),o.a.createElement(R.a.Group,{style:r,icon:"pencil",open:!1,onPress:function(){return e.onPress()},visible:!0,actions:[],onStateChange:function(){return e.onPress()}})}var N=n(116),F=n(343),L=n(187),q=n(180),B=n(280),M=n(281),_=n(182),H=n(282);function J(e){var t=e.insight,n=e.index,r=e.editing,a=e.onPress,c=Object(s.useState)(!1),i=g()(c,2),u=i[0],l=i[1],m=t.source.data;return o.a.createElement(L.a,{style:D.card,onPress:function(){return r&&a(n)}},o.a.createElement(L.a.Content,null,o.a.createElement(q.a,null,t.summary),o.a.createElement(B.a,null,t.information)),o.a.createElement(L.a.Actions,null,m&&N.a.canOpenURL(m)&&o.a.createElement(M.a,{visible:u,onDismiss:function(){return l(!1)},anchor:o.a.createElement(_.a,{icon:"link",size:20,onPress:function(){return l(!0)}})},o.a.createElement(M.a.Item,{title:"Copy link",onPress:function(){return F.a.setString(m)}}),o.a.createElement(H.a,null),o.a.createElement(M.a.Item,{title:"Open link",onPress:function(){return N.a.openURL(m)}})),r&&o.a.createElement(_.a,{icon:"delete",size:20,onPress:function(){return e.onDelete(n)}})))}var V=n(70),G=n(100);function Z(e){var t=e.insights,n=e.onRefresh,r=e.renderItem,a=Object(s.useState)(!1),c=g()(a,2),i=c[0],u=c[1];if(!t)return o.a.createElement(x.a,{animating:!0,size:"large",style:D.spinner});var l=function(){n(),u(!0)};return o.a.createElement(G.a,null,o.a.createElement(V.a,{data:t,keyExtractor:function(e,t){return t.toString()},onRefresh:function(){return l()},refreshing:i,renderItem:r}))}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=Object(s.useState)(!1),n=g()(t,2),r=n[0],a=n[1],i=Object(C.a)(),u=Object(c.c)(),l=K(K({},D.fab),{},{position:"web"===I.a.OS?"fixed":"relative"});return"web"!==I.a.OS&&(l.top=i.height-u.bottom),o.a.createElement(R.a.Group,{visible:!0,style:l,open:r,icon:r?"close":"wrench",actions:[{icon:"plus",onPress:function(){return e.onAdd()}},{icon:"content-save",onPress:function(){return e.onSave()}}],onStateChange:function(){return a(!r)}})}var W=n(6),Q=n.n(W),X=n(7),ee=n.n(X),te=n(9),ne=n.n(te),re=n(13),ae=n.n(re),se=n(1),oe=n.n(se),ce=n(112),ie=n.n(ce),ue=n(154);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var a=oe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae()(this,n)}}var me,pe=function(e){ne()(n,e);var t=le(n);function n(e,r){var a;return Q()(this,n),(a=t.call(this,e)).reason=e,a.statusCode=r,a}return n}(ie()(Error)),fe=function(e){ne()(n,e);var t=le(n);function n(e){var r;return Q()(this,n),(r=t.call(this,"Offline: "+e)).reason=e,r}return n}(ie()(Error)),de=function(){function e(){Q()(this,e)}return ee()(e,null,[{key:"get",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.a.awrap(fetch(""+ue.a+encodeURI(e),{method:"GET",headers:{Accept:"application/json"}}));case 3:t=r.sent,r.next=9;break;case 6:throw r.prev=6,r.t0=r.catch(0),new fe(r.t0);case 9:return r.next=11,a.a.awrap(t.json());case 11:if(n=r.sent,t.ok){r.next=14;break}throw new pe(n.msg,t.status);case 14:return r.abrupt("return",n);case 15:case"end":return r.stop()}}),null,null,[[0,6]],Promise)}},{key:"getAuth",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.a.awrap(fetch(""+ue.a+encodeURI(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+t}}));case 3:n=s.sent,s.next=9;break;case 6:throw s.prev=6,s.t0=s.catch(0),new fe(s.t0);case 9:return s.next=11,a.a.awrap(n.json());case 11:if(r=s.sent,n.ok){s.next=14;break}throw new pe(r.msg,n.status);case 14:return s.abrupt("return",r);case 15:case"end":return s.stop()}}),null,null,[[0,6]],Promise)}},{key:"put",value:function(e,t,n){var r,s;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,a.a.awrap(fetch(""+ue.a+encodeURI(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)}));case 3:r=o.sent,o.next=9;break;case 6:throw o.prev=6,o.t0=o.catch(0),new fe(o.t0);case 9:return o.next=11,a.a.awrap(r.json());case 11:if(s=o.sent,r.ok){o.next=14;break}throw new pe(s.msg,r.status);case 14:return o.abrupt("return",s);case 15:case"end":return o.stop()}}),null,null,[[0,6]],Promise)}},{key:"delete",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.a.awrap(fetch(""+ue.a+encodeURI(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t}}));case 3:n=s.sent,s.next=9;break;case 6:s.prev=6,s.t0=s.catch(0),new fe(s.t0);case 9:return s.next=11,a.a.awrap(n.json());case 11:if(r=s.sent,n.ok){s.next=14;break}throw new pe(r.msg,n.status);case 14:return s.abrupt("return",r);case 15:case"end":return s.stop()}}),null,null,[[0,6]],Promise)}},{key:"post",value:function(e,t,n){var r,s,o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r={Accept:"application/json","Content-Type":"application/json"},void 0!==n&&(r.Authorization="Bearer "+n),c.prev=2,c.next=5,a.a.awrap(fetch(""+ue.a+encodeURI(e),{method:"POST",headers:r,body:JSON.stringify(t)}));case 5:s=c.sent,c.next=11;break;case 8:throw c.prev=8,c.t0=c.catch(2),new fe(c.t0);case 11:return c.next=13,a.a.awrap(s.json());case 13:if(o=c.sent,s.ok){c.next=16;break}throw new pe(o.msg,s.status);case 16:return c.abrupt("return",o);case 17:case"end":return c.stop()}}),null,null,[[2,8]],Promise)}}]),e}(),he=function(){function e(t,n,r=!1){Q()(this,e),this.name=t,this.email=n,this.superUser=r}return ee()(e,[{key:"update",value:function(e,t,n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(de.put("/admins/"+this.email,{email:this.email,name:this.name,password:e,password_confirmation:t},n));case 2:case"end":return r.stop()}}),null,this,null,Promise)}}],[{key:"get",value:function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(de.getAuth("/admins/"+e,t));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"login",value:function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(de.post("/login",{email:e,password:t}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"list",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(de.getAuth("/admins",e));case 2:return t=n.sent,n.abrupt("return",t.admins);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"invite",value:function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(de.post("/admins/invite",{email:e},t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"updatePassword",value:function(e,t,n,r){return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(de.put("/admins/"+e,{email:e,password:t,password_confirmation:n},r));case 2:case"end":return s.stop()}}),null,null,null,Promise)}},{key:"recover",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(de.post("/admins/recover",{email:e}));case 2:return t=n.sent,n.abrupt("return",t.msg);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"delete",value:function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(de.delete("/admins/"+e,t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"create",value:function(e,t,n,r,s){var o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(de.post("/register",{name:e,email:t,password:n,password_confirmation:r},s));case 2:return o=c.sent,c.abrupt("return",o);case 4:case"end":return c.stop()}}),null,null,null,Promise)}}]),e}(),ve=function(){function e(t,n,r,a){Q()(this,e),this.name=t,this.generalInsights=n,this.specializedInsights=r,this.modified=a}return ee()(e,[{key:"create",value:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(de.post("/culture",{name:this.name,general_insights:this.generalInsights,specialized_insights:this.specializedInsights},e));case 2:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"update",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={general_insights:this.generalInsights,specialized_insights:this.specializedInsights,name:this.name},n.next=3,a.a.awrap(de.put("/cultures/"+this.name,t,e));case 3:case"end":return n.stop()}}),null,this,null,Promise)}}],[{key:"get",value:function(e){var t,n,r,s,o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(de.get("/cultures/"+e));case 2:return t=c.sent,n=t.name,r=t.general_insights,s=t.specialized_insights,o=t.modified,c.abrupt("return",new this(n,r,new Map(Object.entries(s)),o));case 5:case"end":return c.stop()}}),null,this,null,Promise)}},{key:"list",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(de.get("/cultures"));case 2:return e=t.sent,t.abrupt("return",e.cultures);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},{key:"delete",value:function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(de.delete("/cultures/"+e,t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}}]),e}(),be=n(252);!function(e){function t(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(m.a.getItem("@ledger"));case 2:if(e=n.sent){n.next=5;break}return n.abrupt("return",new Map);case 5:return t=JSON.parse(e).cultures,n.abrupt("return",new Map(Object.entries(t)));case 7:case"end":return n.stop()}}),null,null,null,Promise)}function n(e){var t={cultures:{}};e.forEach((function(e,n){return t.cultures[n]=e})),m.a.setItem("@ledger",JSON.stringify(t))}function r(e){var r,s,o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(ve.get(e));case 2:return r=c.sent,s=be.deflate(JSON.stringify(r),{to:"string"}),m.a.setItem(e,s.toString()),c.next=7,a.a.awrap(t());case 7:(o=c.sent).set(e,r.modified),n(o);case 10:case"end":return c.stop()}}),null,null,null,Promise)}e.update=function(){var e,n;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(ve.list());case 2:return e=s.sent,s.next=5,a.a.awrap(t());case 5:n=s.sent,e.forEach((function(e){var t,s;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.name,s=e.modified,n.has(t)&&n.get(t)<s&&r(t);case 2:case"end":return a.stop()}}),null,null,null,Promise)}));case 7:case"end":return s.stop()}}),null,null,null,Promise)},e.list=t,e.read=function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(m.a.getItem(e));case 2:return t=r.sent,n=be.inflate(t,{to:"string"}),r.abrupt("return",JSON.parse(n));case 5:case"end":return r.stop()}}),null,null,null,Promise)},e.add=r,e.remove=function(e){var r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(t());case 2:(r=s.sent).has(e)&&m.a.removeItem(e),r.delete(e),n(r);case 6:case"end":return s.stop()}}),null,null,null,Promise)}}(me||(me={}));var ge=Object(E.a)(),we={summary:"summary",information:"information",source:{data:"www.example.com",type:"link"}};var ye=Object(i.b)((function(e,t){return{token:e.user.token,navigation:t.navigation,route:t.route}}),null)((function(e){var t=e.route.params?e.route.params.cultureName:"",n=e.token||"",r=Object(s.useState)(null),c=g()(r,2),i=c[0],u=c[1],l=Object(s.useState)(!1),m=g()(l,2),p=m[0],f=m[1],d=Object(s.useState)(""),h=g()(d,2),v=h[0],b=h[1],E=Object(y.useRoute)();Object(s.useEffect)((function(){return e.navigation.setOptions({title:t})}),[]),Object(s.useEffect)((function(){S()}),[]);var k=function(e){var t=new ve(e.name,e.generalInsights,e.specializedInsights,e.modified);u(t)},S=function(){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.a.awrap(ve.get(t));case 3:n=s.sent,u(n),s.next=20;break;case 7:return s.prev=7,s.t0=s.catch(0),s.prev=9,s.next=12,a.a.awrap(me.read(t));case 12:r=s.sent,u(r),s.next=20;break;case 16:s.prev=16,s.t1=s.catch(9),console.error(s.t1),e.navigation.navigate("Home");case 20:case"end":return s.stop()}}),null,null,[[0,7],[9,16]],Promise)},I=function(){return b("")};if(!i)return o.a.createElement(x.a,{animating:!0,size:"large",style:D.spinner});var C=function(e){if(e instanceof Array){var t=g()(e,2),n=t[0],r=t[1];i.specializedInsights[n].splice(r,1),0===i.specializedInsights[n].length&&delete i.specializedInsights[n]}else i.generalInsights.splice(e,1);k(i)},R=function(t,n){return o.a.createElement(J,{key:"insight-card-"+n.toString(),index:n,editing:p,insight:t,onPress:function(t){return e.navigation.navigate("EditInsight",{culture:i,index:t})},onDelete:C})};return o.a.createElement(w.a,null,o.a.createElement(ge.Navigator,{initialRouteName:"general"},o.a.createElement(ge.Screen,{name:"general"},(function(){return o.a.createElement(Z,{renderItem:function(e){return R(e.item,e.index)},onRefresh:function(){return S()},insights:i.generalInsights})})),o.a.createElement(ge.Screen,{name:"specialized"},(function(){return o.a.createElement(Z,{insights:Array.from(i.specializedInsights.entries()),onRefresh:function(){return S()},renderItem:function(e){var t=g()(e.item,2),n=t[0],r=t[1];return o.a.createElement(O.b.Accordion,{title:n,id:e.index},r.map((function(e,t){return R(e,[n,t])})),p&&o.a.createElement(j.a,{icon:"plus",onPress:function(){return e=n,i.specializedInsights[e].push(we),void k(i);var e},mode:"contained",style:D.specialAddInsight},""))}})}))),""!==n&&o.a.createElement(w.a,null,p?o.a.createElement(Y,{onSave:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.awrap(i.update(n));case 3:k(i),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),b(e.t0.toString()),console.error(e.t0);case 10:f(!p);case 11:case"end":return e.stop()}}),null,null,[[0,6]],Promise)},onAdd:function(){var e;switch(null!=(e=Object(y.getFocusedRouteNameFromRoute)(E))?e:"general"){case"general":i.generalInsights.push(we);break;case"specialized":i.specializedInsights["Specialized Insight"]=[we]}k(i)}}):o.a.createElement(U,{onPress:function(){return f(!p)}})),o.a.createElement(P.a,{visible:""!==v,onDismiss:I,action:{label:"Hide",onPress:I}},v))})),Ee=n(306),xe=n(303),Oe=n(308),je=n(146);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se={user:ke({},new he("","")),token:""},Ie=function(e){return{type:"UPDATE_USER",payload:e}},Ce=function(){return{type:"RESET_USER",payload:{}}},Re=function(e){return{type:"UPDATE_THEME",payload:e}},Te=Object(u.b)({theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Dark",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_THEME":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return ke({},t.payload);case"RESET_USER":return ke({},Se);default:return e}}}),De=n(54),Ae=De.a().shape({email:De.c().email("Invalid email address").required("Required"),password:De.c().required("Required")}),ze={email:"",password:""},Ue=T.a.create({view:{flex:1,justifyContent:"space-evenly",margin:15,overflow:"hidden"},recover:{position:"absolute",bottom:5}});var Ne=Object(i.b)(null,(function(e){return Object(u.a)({updateUser:Ie},e)}))((function(e){var t=Object(s.useState)(!1),n=g()(t,2),r=n[0],c=n[1],i=Object(s.useState)(""),u=g()(i,2),l=u[0],p=u[1],f=Object(s.useState)(!0),d=g()(f,2),h=d[0],v=d[1],b=Object(s.useRef)(),E=Object(s.useRef)(),x=Object(je.a)({validationSchema:Ae,initialValues:ze,onSubmit:function(e){return A(e)}}),O=x.values,k=x.handleChange,S=x.handleBlur,I=x.errors,C=x.touched,R=x.handleSubmit,T=x.setFieldValue,D=x.validateField;Object(s.useEffect)((function(){!function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(m.a.getItem("@rememberedEmail"));case 2:(e=t.sent)&&(T("email",e),c(!0));case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);var A=function(t){var n,s,o,c,i;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.email,s=t.password,o=e.navigation,c=e.updateUser,u.prev=2,u.next=5,a.a.awrap(he.login(n,s));case 5:i=u.sent,u.next=12;break;case 8:return u.prev=8,u.t0=u.catch(2),p(u.t0.toString()),u.abrupt("return");case 12:if(u.prev=12,!r){u.next=18;break}return u.next=16,a.a.awrap(m.a.setItem("@rememberedEmail",n));case 16:u.next=20;break;case 18:return u.next=20,a.a.awrap(m.a.removeItem("@rememberedEmail"));case 20:u.next=25;break;case 22:u.prev=22,u.t1=u.catch(12),console.error("Failed to set Remembered Email",u.t1);case 25:c(i),o.dispatch(y.CommonActions.reset({index:1,routes:[{name:"Home"}]}));case 27:case"end":return u.stop()}}),null,null,[[2,8],[12,22]],Promise)};return o.a.createElement(w.a,{style:Ue.view},o.a.createElement(w.a,null,o.a.createElement(Ee.a,{autoFocus:!0,textContentType:"emailAddress",mode:"outlined",error:I.email&&C.email,left:o.a.createElement(Ee.a.Icon,{name:"email"}),label:"email",ref:b,value:O.email,onBlur:S("email"),onChangeText:k("email")}),I.email&&C.email&&o.a.createElement(xe.a,{type:"error"},I.email)),o.a.createElement(w.a,null,o.a.createElement(Ee.a,{mode:"outlined",label:"password",ref:E,left:o.a.createElement(Ee.a.Icon,{name:"lock"}),secureTextEntry:h,error:I.password&&C.password,onBlur:S("password"),value:O.password,onChangeText:k("password"),right:o.a.createElement(Ee.a.Icon,{name:h?"eye":"eye-off",onPress:function(){return v(!h)}})}),I.password&&C.password&&o.a.createElement(xe.a,{type:"error"},I.password)),o.a.createElement(Oe.a.Item,{label:"Remember me",status:r?"checked":"unchecked",onPress:function(){return c(!r)}}),o.a.createElement(j.a,{mode:"contained",onPress:R},"Log In"),o.a.createElement(j.a,{style:Ue.recover,mode:"text",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(D("email"));case 2:if(void 0!==I.email){e.next=15;break}return e.prev=3,e.next=6,a.a.awrap(he.recover(O.email));case 6:p("Sent email to "+O.email),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Failed to send recovery email: ",e.t0),p(e.t0.toString());case 13:e.next=16;break;case 15:p("Account recovery requires a valid Email");case 16:case"end":return e.stop()}}),null,null,[[3,9]],Promise)},uppercase:!1},"Trouble logging in?"),o.a.createElement(P.a,{visible:""!==l,onDismiss:function(){return p("")},action:{label:"Ok",onPress:function(){return p("")}}},l))})),Fe=n(32),Le={name:"This is how other administrators will see you. You can always change this later.",email:"You'll need this if you ever forget your password.",password:"Strong passwords include a mix of lower case letters, uppercase letters, numbers, and special characters.",passwordConfirmation:"Double check that you know the password."},qe=De.a().shape({name:De.c().min(2,"Too short").max(64,"Too long").required("Required"),email:De.c().email("Invalid email address").required("Required"),password:De.c().required("Required").min(8,"Must be at least 8 characters").max(64,"Too long").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]/,"Must contain at least one uppercase letter, one lowercase letter, one number and one special character"),passwordConfirmation:De.c().required("Required").oneOf([De.b("password"),null],"Must match password")}),Be={name:"",email:"",password:"",passwordConfirmation:""},Me=T.a.create({view:{flex:1,justifyContent:"space-evenly",margin:15,overflow:"hidden"},link:{color:"blue",fontWeight:"bold"}});var _e=Object(i.b)(null,(function(e){return Object(u.a)({updateUser:Ie},e)}))((function(e){var t=e.route.params?e.route.params.token:"",n=Object(s.useState)(!0),r=g()(n,2),c=r[0],i=r[1],u=Object(s.useState)(!0),l=g()(u,2),m=l[0],p=l[1],f=Object(s.useState)(""),d=g()(f,2),h=d[0],v=d[1],b=Object(s.useState)("email"),E=g()(b,2),x=E[0],O=E[1],k=Object(s.useRef)(),S=Object(s.useRef)(),I=Object(s.useRef)(),C=Object(s.useRef)(),R=Object(je.a)({validationSchema:qe,initialValues:Be,onSubmit:function(e){return L(e)}}),T=R.values,D=R.handleChange,A=R.handleBlur,z=R.errors,U=R.touched,F=R.handleSubmit,L=function(n){var r,s,o,c,i,u,l;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return r=n.name,s=n.email,o=n.password,c=n.passwordConfirmation,i=e.navigation,u=e.updateUser,m.prev=2,m.next=5,a.a.awrap(he.create(r,s,o,c,t));case 5:l=m.sent,m.next=12;break;case 8:return m.prev=8,m.t0=m.catch(2),v(m.t0.toString()),m.abrupt("return");case 12:u(l),i.dispatch(y.CommonActions.reset({index:1,routes:[{name:"Home"}]}));case 14:case"end":return m.stop()}}),null,null,[[2,8]],Promise)},q=function(e){var t=e.fieldName;return x===t||z[t]&&U[t]?z[t]&&U[t]?o.a.createElement(xe.a,{type:"error"},z[t]):o.a.createElement(xe.a,{type:"info"},Le[t]):null};return o.a.createElement(w.a,{style:Me.view},o.a.createElement(w.a,null,o.a.createElement(Ee.a,{autoFocus:!0,textContentType:"emailAddress",onFocus:function(){return O("email")},mode:"outlined",error:z.email&&U.email,left:o.a.createElement(Ee.a.Icon,{name:"email"}),label:"email",ref:S,value:T.email,onChangeText:D("email"),onBlur:A("email")}),o.a.createElement(q,{fieldName:"email"})),o.a.createElement(w.a,null,o.a.createElement(Ee.a,{textContentType:"name",onFocus:function(){return O("name")},mode:"outlined",error:z.name&&U.name,left:o.a.createElement(Ee.a.Icon,{name:"account"}),label:"name",ref:k,value:T.name,onChangeText:D("name"),onBlur:A("name")}),o.a.createElement(q,{fieldName:"name"})),o.a.createElement(w.a,null,o.a.createElement(Ee.a,{mode:"outlined",label:"password",onFocus:function(){return O("password")},ref:I,left:o.a.createElement(Ee.a.Icon,{name:"lock"}),secureTextEntry:c,error:z.password&&U.password,onBlur:A("password"),value:T.password,onChangeText:D("password"),right:o.a.createElement(Ee.a.Icon,{name:c?"eye":"eye-off",onPress:function(){return i(!c)}})}),o.a.createElement(q,{fieldName:"password"})),o.a.createElement(w.a,null,o.a.createElement(Ee.a,{mode:"outlined",label:"password confirmation",onFocus:function(){return O("passwordConfirmation")},ref:C,left:o.a.createElement(Ee.a.Icon,{name:"shield-lock"}),secureTextEntry:m,error:z.passwordConfirmation&&U.passwordConfirmation,onBlur:A("passwordConfirmation"),value:T.passwordConfirmation,onChangeText:D("passwordConfirmation"),right:o.a.createElement(Ee.a.Icon,{name:m?"eye":"eye-off",onPress:function(){return p(!m)}})}),o.a.createElement(q,{fieldName:"passwordConfirmation"})),o.a.createElement(w.a,null,o.a.createElement(Fe.a,null,"By clicking Register, you are indicating that you have read and acknowledged the",o.a.createElement(Fe.a,{onPress:function(){return N.a.openURL("http://www.google.com")},style:Me.link}," ","Terms of Service"),".")),o.a.createElement(j.a,{mode:"contained",onPress:F},"Register"),o.a.createElement(P.a,{visible:""!==h,onDismiss:function(){return v("")},action:{label:"Ok",onPress:function(){return v("")}}},h))})),He=n(22),Je=n.n(He),Ve=n(188),Ge=n(312),Ze=T.a.create({spinner:{top:"50%",position:"relative"},view:{flex:1},inviteModal:{padding:20,backgroundColor:"white"},list:{flex:1}});function $e(e){return e.cultures?o.a.createElement(w.a,null,o.a.createElement(V.a,{data:e.cultures,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var n=t.item;return o.a.createElement(O.b.Item,{title:n.name,onPress:function(){return e.navigation.navigate("Culture",{cultureName:n.name})},right:function(){return o.a.createElement(w.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-end"}},o.a.createElement(_.a,{icon:"download",onPress:function(){return me.add(n.name)}}),""!==e.token&&o.a.createElement(_.a,{icon:"delete",onPress:function(){return ve.delete(n.name,e.token)}}))}})}})):o.a.createElement(x.a,{animating:!0,size:"large",style:Ze.spinner})}var Ke=n(349);function Ye(e){var t=e.token,n=e.admins,r=e.onRefresh;return o.a.createElement(w.a,null,o.a.createElement(V.a,{style:{flex:1},data:n,keyExtractor:function(e,t){return t.toString()},renderItem:function(n){var s=n.item;return o.a.createElement(O.b.Item,{title:s.email,onPress:function(){Ke.a.alert("user pressed",s.name,[{text:"OK",onPress:function(){return console.log("OK Pressed")}}])},right:function(){return""!==e.token&&o.a.createElement(w.a,{style:{flexDirection:"row"}},o.a.createElement(_.a,{icon:"pencil",onPress:function(){return function(e){try{r()}catch(t){}}()}}),o.a.createElement(_.a,{icon:"delete",onPress:function(){return e=s.email,a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(he.delete(e,t));case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:r();case 8:case"end":return n.stop()}}),null,null,[[0,5]],Promise);var e}}))}})}}))}var We=Object(E.a)();var Qe=Object(i.b)((function(e,t){return{navigation:t.navigation,route:t.route,user:e.user.user,token:e.user.token}}),null)((function(e){var t=e.token,n=e.route,r=e.navigation,i=e.user,u=Object(s.useState)(null),l=g()(u,2),m=l[0],p=l[1],f=Object(s.useState)(null),d=g()(f,2),h=d[0],v=d[1],b=Object(s.useState)(!1),E=g()(b,2),O=E[0],j=E[1],P=Object(C.a)(),k=Object(c.c)();Object(s.useEffect)((function(){!function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(ve.list());case 2:e=t.sent,p(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);var S=function(){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.token){r.next=2;break}return r.abrupt("return");case 2:if(!i.superUser){r.next=8;break}return r.next=5,a.a.awrap(he.list(t));case 5:r.t0=r.sent,r.next=9;break;case 8:r.t0=[i];case 9:n=r.t0,v(n);case 11:case"end":return r.stop()}}),null,null,null,Promise)};if(Object(s.useEffect)((function(){S()}),[]),!t)return o.a.createElement($e,{navigation:e.navigation,token:"",cultures:m});if(!h)return o.a.createElement(x.a,{animating:!0,size:"large",style:Ze.spinner});var T={margin:16,right:0,position:"web"===I.a.OS?"fixed":"absolute"};return"web"!==I.a.OS?T.top=P.height-k.bottom:T.bottom=0,o.a.createElement(w.a,null,o.a.createElement(We.Navigator,{initialRouteName:"Cultures"},o.a.createElement(We.Screen,{name:"Cultures"},(function(){return o.a.createElement($e,{navigation:r,token:t,cultures:m})})),o.a.createElement(We.Screen,{name:"Admins"},(function(){return o.a.createElement(Ye,{token:t,admins:h,onRefresh:function(){return S()}})}))),o.a.createElement(R.a,{icon:"plus",style:T,onPress:function(){var e;switch(null!=(e=Object(y.getFocusedRouteNameFromRoute)(n))?e:"Cultures"){case"Cultures":p([].concat(Je()(m),["Culture"]));break;case"Admins":j(!0)}}}),o.a.createElement(Ve.a,null,o.a.createElement(Ge.a,{visible:O,onDismiss:function(){return j(!1)}},o.a.createElement(Fe.a,null,"Example Modal. Click outside this area to dismiss."))))})),Xe=n(307),et=T.a.create({view:{flex:1,justifyContent:"space-evenly",overflow:"hidden"},fab:{position:"absolute",bottom:0,right:0,margin:16},input:{paddingHorizontal:10,margin:5}});var tt=function(e){var t=e.route.params.index,n=e.route.params.culture,r=t instanceof Array,a=t instanceof Array?n.specializedInsights[t[0]][t[1]]:n.generalInsights[t],c=t instanceof Array?t[0]:"";Object(s.useEffect)((function(){return e.navigation.setOptions({title:a.summary})}),[]);var i=Object(s.useState)(c),u=g()(i,2),l=u[0],m=u[1],p=Object(s.useState)(a.summary),f=g()(p,2),d=f[0],h=f[1],v=Object(s.useState)(a.information),b=g()(v,2),w=b[0],y=b[1],E=Object(s.useState)(a.source.data),x=g()(E,2),O=x[0],j=x[1],P=Object(s.useState)(a.source.type),k=g()(P,2),S=k[0],I=k[1];return o.a.createElement(G.a,{style:et.view},r&&o.a.createElement(Ee.a,{style:et.input,value:l,placeholder:"Title",label:"Title",mode:"outlined",onChangeText:function(e){return m(e)}}),r&&o.a.createElement(H.a,null),o.a.createElement(Ee.a,{style:et.input,value:d,placeholder:"Summary",label:"Summary",mode:"outlined",left:o.a.createElement(Ee.a.Icon,{name:"text-short"}),onChangeText:function(e){return h(e)}}),o.a.createElement(Ee.a,{style:et.input,value:w,mode:"outlined",placeholder:"Description",label:"Description",left:o.a.createElement(Ee.a.Icon,{name:"text-subject"}),numberOfLines:5,onChangeText:function(e){return y(e)},multiline:!0}),o.a.createElement(H.a,null),o.a.createElement(q.a,{style:{margin:10}},"Source Type"),o.a.createElement(Xe.a.Group,{onValueChange:function(e){return I(e)},value:S},o.a.createElement(Xe.a.Item,{label:"Link",value:"link"})),o.a.createElement(H.a,null),o.a.createElement(Ee.a,{style:et.input,value:O,label:"Source",placeholder:"Source Information",left:o.a.createElement(Ee.a.Icon,{name:"book"}),mode:"outlined",onChangeText:function(e){return j(e)}}),o.a.createElement(R.a,{style:et.fab,icon:"check",onPress:function(){var r={summary:d,information:w,source:{data:O,type:S}};if(t instanceof Array){var a=g()(t,2),s=a[0],o=a[1],c=n.specializedInsights[s];c[o]=r,l!==t[0]&&(delete n.specializedInsights[s],n.specializedInsights[l]=c)}else n.generalInsights[t]=r;e.navigation.navigate("Culture",{cultureName:n.name})}}))},nt=De.a().shape({password:De.c().required("Required").min(8,"Must be at least 8 characters").max(64,"Too long").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]/,"Must contain at least one uppercase letter, one lowercase letter, one number and one special character"),passwordConfirmation:De.c().required("Required").oneOf([De.b("password"),null],"Must match password")}),rt={password:"",passwordConfirmation:""},at=T.a.create({view:{flex:1,justifyContent:"space-evenly",overflow:"hidden"},input:{margin:5,padding:15},title:{alignSelf:"center"}});var st=function(e){var t=e.route,n=e.navigation,r=t.params?t.params.email:"",c=t.params?t.params.token:"",i=Object(s.useState)(""),u=g()(i,2),l=u[0],m=u[1],p=Object(s.useState)(!0),f=g()(p,2),d=f[0],h=f[1],v=Object(s.useState)(!0),b=g()(v,2),y=b[0],E=b[1],x=Object(s.useRef)(),O=Object(s.useRef)(),k=Object(je.a)({validationSchema:nt,initialValues:rt,onSubmit:function(e){return A(e)}}),S=k.values,I=k.handleChange,C=k.handleBlur,R=k.errors,T=k.touched,D=k.handleSubmit,A=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(he.updatePassword(r,e.password,e.passwordConfirmation,c));case 3:n.navigate("Login"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),m(t.t0.toString()),console.error("Failed to update account: ",t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,6]],Promise)};return o.a.createElement(w.a,{style:at.view},o.a.createElement(q.a,{style:at.title},"Let's create a new password!"),o.a.createElement(w.a,{style:at.input},o.a.createElement(Ee.a,{mode:"outlined",label:"password",ref:x,left:o.a.createElement(Ee.a.Icon,{name:"lock"}),secureTextEntry:d,error:R.password&&T.password,onBlur:C("password"),value:S.password,onChangeText:I("password"),right:o.a.createElement(Ee.a.Icon,{name:d?"eye":"eye-off",onPress:function(){return h(!d)}})}),R.password&&T.password&&o.a.createElement(xe.a,{type:"error"},R.password)),o.a.createElement(w.a,{style:at.input},o.a.createElement(Ee.a,{mode:"outlined",label:"password confirmation",ref:O,left:o.a.createElement(Ee.a.Icon,{name:"shield-lock"}),secureTextEntry:y,error:R.passwordConfirmation&&T.passwordConfirmation,onBlur:C("passwordConfirmation"),value:S.passwordConfirmation,onChangeText:I("passwordConfirmation"),right:o.a.createElement(Ee.a.Icon,{name:y?"eye":"eye-off",onPress:function(){return E(!y)}})}),R.passwordConfirmation&&T.passwordConfirmation&&o.a.createElement(xe.a,{type:"error"},R.passwordConfirmation)),o.a.createElement(j.a,{mode:"contained",onPress:D},"Recover"),o.a.createElement(P.a,{visible:""!==l,onDismiss:function(){return m("")},action:{label:"Ok",onPress:function(){return m("")}}},l))},ot=n(21),ct=n.n(ot),it=n(85),ut=n(122);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=mt(mt({},it.a),{},{roundness:2,colors:mt(mt({},it.a.colors),{},{primary:"#1e88e5",accent:"#1e88e5"})}),ft=mt(mt({},ut.a),{},{roundness:2,colors:mt(mt({},ut.a.colors),{},{primary:"#1e88e5",accent:"#1e88e5"})});var dt=Object(i.b)((function(e){return{theme:e.theme}}),(function(e){return Object(u.a)({updateTheme:Re},e)}))((function(e){var t=e.updateTheme,n=e.theme;Object(s.useEffect)((function(){!function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(m.a.getItem("@theme"));case 3:e=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e="Light";case 9:e||(e="Light"),t(e);case 11:case"end":return n.stop()}}),null,null,[[0,6]],Promise)}()}),[]);var r=function(){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(e="Dark"===n?"Light":"Dark"),r.prev=2,r.next=5,a.a.awrap(m.a.setItem("@theme",e));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.log("failed to set theme");case 10:case"end":return r.stop()}}),null,null,[[2,7]],Promise)};return o.a.createElement(w.a,null,o.a.createElement(O.b.Item,{title:"Dark Theme",onPress:r,left:function(e){return o.a.createElement(_.a,ct()({},e,{icon:"brightness-6",onPress:r}))},right:function(e){return o.a.createElement(Oe.a,ct()({onPress:r},e,{status:"Dark"===n?"checked":"unchecked"}))}}))})),ht=n(221),vt=n.n(ht),bt=n(350),gt=n.n(bt),wt=T.a.create({leftIcon:{left:-5}});function yt(e){var t=Object(s.useState)(!1),n=g()(t,2),r=n[0],c=n[1],i=Object(s.useState)(new Map),u=g()(i,2),l=u[0],m=u[1],p=function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(me.list());case 3:e=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error("Failed to load ledger",t.t0),t.abrupt("return");case 10:if(e){t.next=12;break}return t.abrupt("return");case 12:m(e);case 13:case"end":return t.stop()}}),null,null,[[0,6]],Promise)};Object(s.useEffect)((function(){p()}),[]),Object(s.useEffect)((function(){var e=setInterval((function(){m(new Map(l.entries()))}),6e4);return function(){return clearInterval(e)}}));var f=Array.from(l.entries());return 0===l.size?null:o.a.createElement(w.a,null,o.a.createElement(O.b.Accordion,{expanded:r,onPress:function(){return c(!r)},title:"Downloaded Cultures",left:function(e){return o.a.createElement(O.b.Icon,ct()({},e,{icon:"download",style:wt.leftIcon}))}},o.a.createElement(V.a,{data:f,keyExtractor:function(e,t){return t.toString()},renderItem:function(e){var t=e.item,n=g()(t,2),r=n[0],s=n[1];return o.a.createElement(O.b.Item,{title:r,description:"Last modified "+vt()().to(vt.a.unix(s)),right:function(e){return o.a.createElement(_.a,ct()({},e,{icon:"delete",onPress:function(){return function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return l.delete(e),t.prev=1,t.next=4,a.a.awrap(me.remove(e));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),console.error("Failed to remove downloaded culture: ",t.t0),t.abrupt("return");case 10:m(new Map(l.entries()));case 11:case"end":return t.stop()}}),null,null,[[1,6]],Promise)}(r)}}))}})}})),r&&o.a.createElement(j.a,{mode:"contained",onPress:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(me.update());case 3:p(),e.onUpdateFinish(null),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.onUpdateFinish(t.t0.toString()),console.error("Failed to update downloaded cultures: ",t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}},"Update All"))}vt.a.extend(gt.a);var Et=T.a.create({rightIcon:{right:-5},leftIcon:{left:-5}});var xt=function(){var e=function(){return N.a.openURL("http://www.google.com")},t=Object(s.useState)(""),n=g()(t,2),r=n[0],a=n[1];return o.a.createElement(w.a,null,o.a.createElement(dt,null),o.a.createElement(H.a,null),o.a.createElement(O.b.Item,{title:"Disclaimer",onPress:e,left:function(t){return o.a.createElement(_.a,ct()({},t,{style:Et.leftIcon,onPress:e,icon:"file-document-outline"}))},right:function(t){return o.a.createElement(_.a,ct()({},t,{icon:"eye",style:Et.rightIcon,onPress:e}))}}),o.a.createElement(H.a,null),o.a.createElement(yt,{onUpdateFinish:function(e){return a(e||"Update finished")}}),o.a.createElement(Ve.a,null,o.a.createElement(P.a,{visible:""!==r,onDismiss:function(){return a("")},action:{label:"Ok",onPress:function(){return a("")}}},r)))};var Ot=Object(i.b)((function(e,t){return{name:e.user.user.name,navigation:t.navigation}}),(function(e){return Object(u.a)({resetUser:Ce},e)}))((function(e){var t=e.name,n=e.navigation,r=e.resetUser,a=Object(s.useState)(!1),c=g()(a,2),i=c[0],u=c[1];return o.a.createElement(M.a,{visible:i,onDismiss:function(){return u(!1)},anchor:""===t?o.a.createElement(_.a,{icon:"dots-vertical",onPress:function(){return u(!0)}}):o.a.createElement(j.a,{onPress:function(){return u(!0)}},o.a.createElement(O.a.Text,{size:32,label:t[0]}))},o.a.createElement(M.a.Item,{onPress:function(){n.navigate("Settings"),u(!1)},title:"Settings"}),""===t?o.a.createElement(M.a.Item,{title:"Log in",onPress:function(){n.navigate("Login"),u(!1)}}):o.a.createElement(M.a.Item,{onPress:function(){r(),n.navigate("Home"),u(!1)},title:"Log out"}))})),jt=function(e){var t=e.navigation;return{headerRight:function(){return o.a.createElement(Ot,{navigation:t})}}},Pt={prefixes:["/"],config:{screens:{Home:"/",Login:"login",Register:"register/:token",Recovery:"recovery/:email/:token",Culture:{path:"culture/:cultureName",parse:{cultureName:function(e){return decodeURI(e)}},screens:{general:"general",specialized:"specialized"}},EditInsight:"culture/edit/:culture/:index",Settings:"settings"}}},kt=Object(u.c)(Te);var St=Object(i.b)((function(e){return{theme:e.theme}}),null)((function(e){var t=e.theme,n=Object(h.a)();return o.a.createElement(c.b,null,o.a.createElement(p.a,{linking:Pt,theme:"Dark"===t?f.a:d.a},o.a.createElement(l.a,{theme:"Dark"===t?ft:pt},o.a.createElement(n.Navigator,{initialRouteName:"Home"},o.a.createElement(n.Screen,{name:"Culture",component:ye,options:jt}),o.a.createElement(n.Screen,{name:"Home",component:Qe,options:jt}),o.a.createElement(n.Screen,{name:"Login",component:Ne}),o.a.createElement(n.Screen,{name:"Register",component:_e}),o.a.createElement(n.Screen,{name:"EditInsight",component:tt}),o.a.createElement(n.Screen,{name:"Settings",component:xt}),o.a.createElement(n.Screen,{name:"Recovery",component:st})))))}));t.default=Object(v.a)((function(){return Object(s.useEffect)((function(){!function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(m.a.getItem("@theme"));case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e="Light";case 9:e||(e="Light"),kt.dispatch(Re(e));case 11:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}()}),[]),o.a.createElement(i.a,{store:kt},o.a.createElement(St,null))}))}},[[373,1,2]]]);
//# sourceMappingURL=app.9efa0c0d.chunk.js.map