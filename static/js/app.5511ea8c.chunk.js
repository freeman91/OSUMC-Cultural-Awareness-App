(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{310:function(e,t,n){e.exports=n(461)},457:function(e,t,n){e.exports=n.p+"static/media/admin_login.2babc559.png"},461:function(e,t,n){"use strict";n.r(t);n(63);var r=n(0),a=n.n(r),s=n(82),c=n(79),i=n(247),o=n(132),u=n(56),l=n(248),p=n(468),f=n(469),m=n(13),h=n.n(m),d=n(15),g=n.n(d),v=n(3),b=n(83),y=n(61),w=n(4),x=n(28),E=n(467),O=n(93),j=n(241),P=n(249),k=n(139),S=n(135),I=n(242),z=n(137),R=n(5),A=n.n(R),C=n(6),D=n.n(C),T=n(10),U=n.n(T),N=n(12),L=n.n(N),_=n(1),G=n.n(_),H=n(87),F=n.n(H),J=n(11),B=n.n(J),K=n(68);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q="http://18.189.142.71:5000/v1",Q=M(M({},K.a),{},{colors:M(M({},K.a.colors),{},{primary:"#1e88e5",accent:"#1e88e5"})});function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var a=G()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var X=function(e){U()(n,e);var t=W(n);function n(e,r){var a;return A()(this,n),(a=t.call(this,e)).reason=e,a.statusCode=r,a}return n}(F()(Error)),Y=function(e){U()(n,e);var t=W(n);function n(e){var r;return A()(this,n),(r=t.call(this,"Offline: "+e)).reason=e,r}return n}(F()(Error)),Z=function(){function e(){A()(this,e)}return D()(e,null,[{key:"get",value:function(e){var t,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("API_URL: ",q),console.log("endpoint: ",e),r.prev=2,r.next=5,h.a.awrap(fetch(""+q+encodeURI(e),{method:"GET",headers:{Accept:"application/json"}}));case 5:t=r.sent,r.next=11;break;case 8:throw r.prev=8,r.t0=r.catch(2),new Y(r.t0);case 11:return r.next=13,h.a.awrap(t.json());case 13:if(n=r.sent,t.ok){r.next=16;break}throw new X(n.msg,t.status);case 16:return r.abrupt("return",n);case 17:case"end":return r.stop()}}),null,null,[[2,8]],Promise)}},{key:"getAuth",value:function(e,t){var n,r;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.awrap(fetch(""+q+encodeURI(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+t}}));case 3:n=a.sent,a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),new Y(a.t0);case 9:return a.next=11,h.a.awrap(n.json());case 11:if(r=a.sent,n.ok){a.next=14;break}throw new X(r.msg,n.status);case 14:return a.abrupt("return",r);case 15:case"end":return a.stop()}}),null,null,[[0,6]],Promise)}},{key:"put",value:function(e,t,n){var r,a;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,h.a.awrap(fetch(""+q+encodeURI(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)}));case 3:r=s.sent,s.next=9;break;case 6:throw s.prev=6,s.t0=s.catch(0),new Y(s.t0);case 9:return s.next=11,h.a.awrap(r.json());case 11:if(a=s.sent,r.ok){s.next=14;break}throw new X(a.msg,r.status);case 14:return s.abrupt("return",a);case 15:case"end":return s.stop()}}),null,null,[[0,6]],Promise)}},{key:"delete",value:function(e,t){var n,r;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.awrap(fetch(""+q+encodeURI(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t}}));case 3:n=a.sent,a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),new Y(a.t0);case 9:return a.next=11,h.a.awrap(n.json());case 11:if(r=a.sent,n.ok){a.next=14;break}throw new X(r.msg,n.status);case 14:return a.abrupt("return",r);case 15:case"end":return a.stop()}}),null,null,[[0,6]],Promise)}},{key:"post",value:function(e,t,n){var r,a,s;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r={Accept:"application/json","Content-Type":"application/json"},void 0!==n&&(r.Authorization="Bearer "+n),c.prev=2,c.next=5,h.a.awrap(fetch(""+q+encodeURI(e),{method:"POST",headers:r,body:JSON.stringify(t)}));case 5:a=c.sent,c.next=11;break;case 8:throw c.prev=8,c.t0=c.catch(2),new Y(c.t0);case 11:return c.next=13,h.a.awrap(a.json());case 13:if(s=c.sent,a.ok){c.next=16;break}throw new X(s.msg,a.status);case 16:return c.abrupt("return",s);case 17:case"end":return c.stop()}}),null,null,[[2,8]],Promise)}}]),e}(),$=function(){function e(t,n,r=!1){A()(this,e),this.name=t,this.email=n,this.superUser=r}return D()(e,[{key:"update",value:function(e,t,n){return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(Z.put("/admin/"+this.email,{email:this.email,name:this.name,password:e,password_confirmation:t},n));case 2:case"end":return r.stop()}}),null,this,null,Promise)}}],[{key:"get",value:function(e,t){var n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(Z.getAuth("/admin/"+e,t));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"login",value:function(e,t){var n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(Z.post("/login",{email:e,password:t}));case 2:return n=r.sent,r.abrupt("return",n.token);case 4:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"list",value:function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(Z.getAuth("/admin",e));case 2:return t=n.sent,n.abrupt("return",t.admins);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"invite",value:function(e,t){return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(Z.post("/admin/invite",{email:e},t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"delete",value:function(e,t){return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(Z.delete("/admin/"+e,t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"create",value:function(e,t,n,r,a){return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,h.a.awrap(Z.post("/register",{name:e,email:t,password:n,password_confirmation:r},a));case 2:case"end":return s.stop()}}),null,null,null,Promise)}}]),e}();var ee,te=function(){function e(t,n,r){A()(this,e),this.name=t,this.generalInsights=n,this.specializedInsights=r}return D()(e,[{key:"create",value:function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(Z.post("/culture",{name:this.name,general_insights:this.generalInsights,specialized_insights:this.specializedInsights},e));case 2:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"update",value:function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={general_insights:this.generalInsights,specialized_insights:this.specializedInsights,name:this.name},n.next=3,h.a.awrap(Z.put("/culture/"+this.name,t,e));case 3:case"end":return n.stop()}}),null,this,null,Promise)}}],[{key:"get",value:function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(Z.get("/culture/"+e));case 2:return t=n.sent,n.abrupt("return",new this(t.name,t.general_insights,t.specialized_insights));case 4:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"list",value:function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(Z.get("/culture"));case 2:return e=t.sent,t.abrupt("return",e.cultures);case 4:case"end":return t.stop()}}),null,null,null,Promise)}},{key:"delete",value:function(e,t){return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(Z.delete("/culture/"+e,t));case 2:case"end":return n.stop()}}),null,null,null,Promise)}}]),e}(),ne=n(111),re=n(193);!function(e){function t(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(te.get(e));case 2:return t=n.sent,n.abrupt("return",re.deflate(JSON.stringify(t),{to:"string"}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}function n(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(ne.a.getItem("@ledger"));case 2:if(null!==(e=t.sent)){t.next=5;break}return t.abrupt("return",new Map);case 5:return t.abrupt("return",JSON.parse(e).cultures);case 6:case"end":return t.stop()}}),null,null,null,Promise)}function r(e){var n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(t(e));case 2:n=r.sent,ne.a.setItem(e,n.toString());case 4:case"end":return r.stop()}}),null,null,null,Promise)}e.update=function(){var e,t,a;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,h.a.awrap(te.list());case 2:return e=s.sent,s.next=5,h.a.awrap(n());case 5:return t=s.sent,e.forEach((function(e){var n,a;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:n=e.name,a=e.modified,t.has(n)&&t.get(n)<a&&r(n);case 2:case"end":return s.stop()}}),null,null,null,Promise)})),a=JSON.stringify({cultures:t}),s.next=10,h.a.awrap(ne.a.setItem("@ledger",a));case 10:case"end":return s.stop()}}),null,null,null,Promise)},e.list=n,e.read=function(e){var t,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(ne.a.getItem(e));case 2:return t=r.sent,n=re.inflate(t,{to:"string"}),r.abrupt("return",JSON.parse(n));case 5:case"end":return r.stop()}}),null,null,null,Promise)},e.add=r,e.remove=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(n());case 2:t.sent.has(e)&&ne.a.removeItem(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}}(ee||(ee={}));var ae=Object(E.a)(),se=v.a.create({spinner:{top:"50%",position:"relative"},fab:{},card:{padding:10,marginVertical:5,marginHorizontal:5},editInput:{width:"100%"},specialAddInsight:{padding:10,marginVertical:5,marginHorizontal:5}}),ce={summary:"summary",information:"information",source:{data:"www.example.com",type:"link"}};function ie(e){var t=e.insights,n=e.onRefresh,s=e.renderItem,c=Object(r.useState)(!1),i=g()(c,2),o=i[0],u=i[1];if(!t)return a.a.createElement(O.a,{animating:!0,size:"large",style:se.spinner});var l=function(){n(),u(!0)};return a.a.createElement(y.a,null,a.a.createElement(b.a,{data:t,keyExtractor:function(e,t){return t.toString()},onRefresh:function(){return l()},refreshing:o,renderItem:s}))}function oe(e){return a.a.createElement(P.a.Group,{style:se.fab,icon:"pencil",open:!1,onPress:function(){return e.onPress()},visible:!0,actions:[],onStateChange:function(){return e.onPress()}})}function ue(e){var t=Object(r.useState)(!1),n=g()(t,2),s=n[0],c=n[1];return a.a.createElement(P.a.Group,{visible:!0,style:se.fab,open:s,icon:s?"close":"wrench",actions:[{icon:"plus",onPress:function(){return e.onAdd()}},{icon:"content-save",onPress:function(){return e.onSave()}}],onStateChange:function(){return c(!s)}})}function le(e){var t=e.insight,n=e.index,r=e.editing,s=e.onPress;return a.a.createElement(k.a,{style:se.card,onPress:function(){return r&&s(n)}},a.a.createElement(k.a.Content,null,a.a.createElement(S.a,null,t.summary),a.a.createElement(I.a,null,t.information)),a.a.createElement(k.a.Actions,null,a.a.createElement(z.a,{icon:"link",size:20}),r&&a.a.createElement(z.a,{icon:"delete",size:20,onPress:function(){return e.onDelete(n)}})))}var pe=Object(s.b)((function(e,t){return{token:e.user.token,navigation:t.navigation,route:t.route}}),null)((function(e){var t=e.route.params?e.route.params.cultureName:"",n=e.token||"",s=Object(r.useState)(null),c=g()(s,2),i=c[0],l=c[1],p=Object(r.useState)(!1),f=g()(p,2),m=f[0],d=f[1],v=Object(r.useState)(""),b=g()(v,2),y=b[0],E=b[1],P=Object(r.useState)(!1),k=g()(P,2),S=k[0],I=k[1],z=Object(x.useRoute)();Object(r.useEffect)((function(){return e.navigation.setOptions({title:t})}),[]),Object(r.useEffect)((function(){A()}),[]);var R=function(e){var t=new te(e.name,e.generalInsights,e.specializedInsights);l(t)},A=function(){var n,r;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.awrap(te.get(t));case 3:n=a.sent,l(n),a.next=20;break;case 7:return a.prev=7,a.t0=a.catch(0),a.prev=9,a.next=12,h.a.awrap(ee.read(t));case 12:r=a.sent,l(r),a.next=20;break;case 16:a.prev=16,a.t1=a.catch(9),console.error(a.t1),e.navigation.navigate("Home");case 20:case"end":return a.stop()}}),null,null,[[0,7],[9,16]],Promise)},C=function(){return I(!1)};if(!i)return a.a.createElement(O.a,{animating:!0,size:"large",style:se.spinner});var D=function(e){var t=[];for(var n in e)t.push({text:n,insights:e[n]});return t}(i.specializedInsights),T=function(e){if(e instanceof Array){var t=g()(e,2),n=t[0],r=t[1];i.specializedInsights[n].splice(r,1),0===i.specializedInsights[n].length&&delete i.specializedInsights[n]}else i.generalInsights.splice(e,1);R(i)},U=function(t,n){return a.a.createElement(le,{key:"insight-card-"+n.toString(),index:n,editing:m,insight:t,onPress:function(t){return e.navigation.navigate("EditInsight",{culture:i,index:t})},onDelete:T})};return a.a.createElement(w.a,null,a.a.createElement(ae.Navigator,{initialRouteName:"General"},a.a.createElement(ae.Screen,{name:"General"},(function(){return a.a.createElement(ie,{renderItem:function(e){return U(e.item,e.index)},onRefresh:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A());case 1:case"end":return e.stop()}}),null,null,null,Promise)},insights:i.generalInsights})})),a.a.createElement(ae.Screen,{name:"Specialized"},(function(){return a.a.createElement(ie,{insights:D,onRefresh:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A());case 1:case"end":return e.stop()}}),null,null,null,Promise)},renderItem:function(e){var t=e.item,n=t.text,r=t.insights;return a.a.createElement(u.c.Accordion,{title:n,id:e.index},r.map((function(e,t){return U(e,[n,t])})),m&&a.a.createElement(o.a,{icon:"plus",onPress:function(){return e=n,i.specializedInsights[e].push(ce),void R(i);var e},mode:"contained",style:se.specialAddInsight},""))}})}))),a.a.createElement(a.a.Fragment,null,n&&(m?a.a.createElement(ue,{onSave:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.awrap(i.update(n));case 3:R(i),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),I(!0),E(e.t0.toString()),console.error(e.t0);case 11:d(!m);case 12:case"end":return e.stop()}}),null,null,[[0,6]],Promise)},onAdd:function(){var e;switch(null!=(e=Object(x.getFocusedRouteNameFromRoute)(z))?e:"General"){case"General":i.generalInsights.push(ce);break;case"Specialized":i.specializedInsights["Specialized Insight"]=[ce]}R(i)}}):a.a.createElement(oe,{onPress:function(){return d(!m)}}))),a.a.createElement(j.a,{visible:S,onDismiss:C,action:{label:"Hide",onPress:C}},y))})),fe=n(280),me=n(194),he=n(245),de=function(e){return{type:"UPDATE_USER",payload:e}};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=v.a.create({card:{marginTop:100,marginLeft:20,marginRight:20},container:{padding:10,fontSize:18},view:{height:"100%",flex:1,alignItems:"center",justifyContent:"center"},gradient:{position:"absolute",left:0,right:0,top:0,height:"100%"}});var ye=Object(s.b)(null,(function(e){return Object(c.a)({updateUser:de},e)}))((function(e){var t=Object(r.useState)(""),n=g()(t,2),s=n[0],c=n[1],i=Object(r.useState)(""),u=g()(i,2),l=u[0],p=u[1],f=Object(r.useState)(""),m=g()(f,2),d=m[0],v=m[1],b=Object(r.useState)(""),y=g()(b,2),E=y[0],O=y[1],j=Object(x.useRoute)(),P=e.route.params&&e.route.params.token||"",S=e.navigation,I=e.updateUser;return a.a.createElement(w.a,{style:be.view},a.a.createElement(fe.a,{colors:["#454545","#f0f4ef"],style:be.gradient},a.a.createElement(k.a,{style:be.card},"Register"===j.name&&a.a.createElement(he.a,{style:be.container,mode:"outlined",label:"name",value:s,onChangeText:function(e){return c(e)}}),a.a.createElement(he.a,{style:be.container,mode:"outlined",label:"email",value:l,onChangeText:function(e){return p(e)}}),a.a.createElement(he.a,{style:be.container,mode:"outlined",label:"password",secureTextEntry:!0,value:d,onChangeText:function(e){return v(e)}}),"Register"===j.name&&a.a.createElement(he.a,{style:be.container,mode:"outlined",label:"password confirmation",secureTextEntry:!0,value:E,onChangeText:function(e){return O(e)}}),a.a.createElement(o.a,{icon:"login",mode:"contained",onPress:function(){return"Login"===j.name?function(){var e,t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.a.awrap($.login(l,d));case 3:return e=n.sent,n.next=6,h.a.awrap($.get(l,e));case 6:t=n.sent,I({user:ve({},t),token:e}),S.dispatch(x.CommonActions.reset({index:1,routes:[{name:"Home"}]})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error("Unsuccessful Login",n.t0),me.a.alert("Unsuccessful Login","Incorrect username or password",[{text:"OK",onPress:function(){return console.log("OK Pressed")}}],{cancelable:!0});case 15:case"end":return n.stop()}}),null,null,[[0,11]],Promise)}():h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=11;break}return e.prev=1,e.next=4,h.a.awrap($.create(s,l,d,E,P));case 4:S.dispatch(x.CommonActions.reset({index:1,routes:[{name:"Login"}]})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Unsuccessful Registration",e.t0),me.a.alert("Unsuccessful Registration","helpful error message",[{text:"OK",onPress:function(){return console.log("OK Pressed")}}],{cancelable:!0});case 11:case"end":return e.stop()}}),null,null,[[1,7]],Promise)}},"submit"))))})),we=(n(37),n(101)),xe=n(44),Ee=v.a.create({spinner:{top:"50%",position:"relative"},emptyListStyle:{padding:10,fontSize:18,textAlign:"center"},itemStyle:{padding:10},img:{padding:35,height:70,width:"25%"},headerFooterStyle:{width:"100%",height:45,backgroundColor:"#606070"},bottomFooterStyle:{flex:1,flexDirection:"row",justifyContent:"space-between",width:"100%",height:70,backgroundColor:"#606070",position:"absolute",bottom:"0px",left:"0px",right:"0px",marginBottom:"0px"},textStyle:{textAlign:"center",color:"#fff",fontSize:18,padding:7},btn:{},fab:{position:"absolute",margin:16,right:0,bottom:0},view:{height:"100%"}}),Oe=Object(E.a)();function je(e){var t=e.cultures,n=e.onRefresh,s=Object(r.useState)(!1),c=g()(s,2),i=c[0],o=c[1];if(!t)return a.a.createElement(O.a,{animating:!0,size:"large",style:Ee.spinner});var l=function(){n(),o(!0)};return a.a.createElement(y.a,null,a.a.createElement(b.a,{style:{flex:1},data:t,keyExtractor:function(e,t){return t.toString()},onRefresh:function(){return l()},refreshing:i,renderItem:function(t){var n=t.item;return a.a.createElement(u.c.Item,{title:n.name,onPress:function(){return e.navigation.navigate("Culture",{cultureName:n.name})},right:function(){return e.token?a.a.createElement(z.a,{icon:"delete",onPress:function(){return te.delete(n.name,e.token)}}):null}})}}))}var Pe=Object(s.b)((function(e,t){return{navigation:t.navigation,route:t.route,user:e.user.user,token:e.user.token}}),null)((function(e){var t=Object(r.useState)(null),s=g()(t,2),c=s[0],i=s[1],l=Object(r.useState)(null),p=g()(l,2),f=(p[0],p[1]),m=Object(r.useState)(!1),d=g()(m,2),v=(d[0],d[1],Object(r.useState)("")),b=g()(v,2),y=b[0],E=(b[1],Object(r.useState)(!1)),P=g()(E,2),k=P[0],S=P[1],I=(Object(x.useRoute)(),e.token),z=function(){return S(!1)};Object(r.useEffect)((function(){R()}),[]),Object(r.useEffect)((function(){!function(){var t;h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.user.superUser){n.next=6;break}return n.next=3,h.a.awrap($.list(I));case 3:t=n.sent,n.next=7;break;case 6:t=[e.user];case 7:f(t);case 8:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var R=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(te.list());case 2:e=t.sent,i(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},A=function(t){e.navigation.navigate("Login")};return null===c?a.a.createElement(O.a,{animating:!0,color:u.b.red800}):a.a.createElement(w.a,{style:Ee.view},a.a.createElement(Oe.Navigator,{initialRouteName:"Cultures"},a.a.createElement(Oe.Screen,{name:"Cultures"},(function(){return a.a.createElement(je,{onRefresh:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R());case 1:case"end":return e.stop()}}),null,null,null,Promise)},cultures:c,navigation:e.navigation,token:I})})),a.a.createElement(Oe.Screen,{name:"Admins"},(function(){return a.a.createElement(a.a.Fragment,null)}))),a.a.createElement(a.a.Fragment,null),a.a.createElement(j.a,{visible:k,onDismiss:z,action:{label:"Hide",onPress:z}},y),a.a.createElement(w.a,{style:Ee.bottomFooterStyle},a.a.createElement(o.a,{onPress:function(){return console.log("Pressed!")}},"General Disclaimer"),a.a.createElement(we.a,{style:Ee.btn,onPress:A},a.a.createElement(xe.a,{source:n(457),style:Ee.img}))))})),ke=n(243),Se=n(246),Ie=v.a.create({view:{flex:1,justifyContent:"space-evenly"},fab:{position:"absolute",bottom:0,right:0,margin:16},input:{paddingHorizontal:10,margin:5}});function ze(e){var t=e.route.params.index,n=e.route.params.culture,s=t instanceof Array,c=t instanceof Array?n.specializedInsights[t[0]][t[1]]:n.generalInsights[t],i=t instanceof Array?t[0]:"";Object(r.useEffect)((function(){return e.navigation.setOptions({title:c.summary})}),[]);var o=Object(r.useState)(i),u=g()(o,2),l=u[0],p=u[1],f=Object(r.useState)(c.summary),m=g()(f,2),h=m[0],d=m[1],v=Object(r.useState)(c.information),b=g()(v,2),w=b[0],x=b[1],E=Object(r.useState)(c.source.data),O=g()(E,2),j=O[0],k=O[1],I=Object(r.useState)(c.source.type),z=g()(I,2),R=z[0],A=z[1];return a.a.createElement(y.a,{style:Ie.view},s&&a.a.createElement(he.a,{style:Ie.input,value:l,placeholder:"Title",label:"Title",mode:"outlined",onChangeText:function(e){return p(e)}}),s&&a.a.createElement(ke.a,null),a.a.createElement(he.a,{style:Ie.input,value:h,placeholder:"Summary",label:"Summary",mode:"outlined",left:a.a.createElement(he.a.Icon,{name:"text-short"}),onChangeText:function(e){return d(e)}}),a.a.createElement(he.a,{style:Ie.input,value:w,mode:"outlined",placeholder:"Description",label:"Description",left:a.a.createElement(he.a.Icon,{name:"text-subject"}),numberOfLines:5,onChangeText:function(e){return x(e)},multiline:!0}),a.a.createElement(ke.a,null),a.a.createElement(S.a,{style:{margin:10}},"Source Type"),a.a.createElement(Se.a.Group,{onValueChange:function(e){return A(e)},value:R},a.a.createElement(Se.a.Item,{label:"Link",value:"link"})),a.a.createElement(ke.a,null),a.a.createElement(he.a,{style:Ie.input,value:j,label:"Source",placeholder:"Source Information",left:a.a.createElement(he.a.Icon,{name:"book"}),mode:"outlined",onChangeText:function(e){return k(e)}}),a.a.createElement(P.a,{style:Ie.fab,icon:"check",onPress:function(){var r={summary:h,information:w,source:{data:j,type:R}};if(t instanceof Array){var a=g()(t,2),s=a[0],c=a[1],i=n.specializedInsights[s];i[c]=r,l!==t[0]&&(delete n.specializedInsights[s],n.specializedInsights[l]=i)}else n.generalInsights[t]=r;e.navigation.navigate("Culture",{cultureName:n.name})}}))}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce={user:Ae({},new $("","")),token:""},De=Object(c.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return Ae({},t.payload);default:return e}}}),Te=Object(c.c)(De);t.default=Object(f.a)((function(){var e=Object(p.a)();return r.createElement(i.a,{theme:Q},r.createElement(s.a,{store:Te},r.createElement(l.a,{linking:{prefixes:["/"]}},r.createElement(e.Navigator,{initialRouteName:"Home"},r.createElement(e.Screen,{name:"Culture",component:pe,options:{headerRight:function(){return r.createElement(o.a,{onPress:function(){return console.log("button pressed")}},r.createElement(u.a.Text,{size:36,label:"NH"}))}}}),r.createElement(e.Screen,{name:"Home",component:Pe}),r.createElement(e.Screen,{name:"Login",component:ye}),r.createElement(e.Screen,{name:"Register",component:ye}),r.createElement(e.Screen,{name:"EditInsight",component:ze})))))}))}},[[310,1,2]]]);
//# sourceMappingURL=app.5511ea8c.chunk.js.map